<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css" />
	<script src="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js"></script>
</head>

<body>
	<div id="mapid" style="width: 1024px; height: 512px;"></div>
	
	<script>
		//MAP
 		var mymap = L.map('mapid', { 
			center: [58.8534, 5.7317],
			zoom: 13
		});
	  
	  
		 //OpenStreetMap layer
		 var osmlayer = L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
		     attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
		 }).addTo(mymap); 
		 
		 //adds maps to base layer group
		 var baseMaps = {
			 "OpenStreetMap": osmlayer
		 };
		 
		 
		 //POPUPS
		 var marker = L.marker([58.85, 5.74]);
		 
		 var circle = L.circle([58.8534, 5.7207], 200, {
		     color: 'red',
		     fillColor: '#f03',
		     fillOpacity: 0.5
		 });
		 
		 var polygon = L.polygon([
		     [58.85, 5.73],
		     [58.855, 5.74],
		     [58.859, 5.735]
		 ]); 	 
		 
		 //more popup stuff
		 marker.bindPopup("Jeg er midti byen!");
		 circle.bindPopup("Midt i gata");
		 polygon.bindPopup("Langs jernbanen");
		 
		//adds popups to layer group
		 var markers_group = L.layerGroup([marker, circle, polygon]).addTo(mymap);
		 var overlayMaps = {
		     "popups": markers_group
		 };
		 
		 //Layer control
		L.control.layers(baseMaps, overlayMaps).addTo(mymap);
		  
		 //EVENTS
		 var popup = L.popup();

		 function onMapClick(e) {
		     popup
		         .setLatLng(e.latlng)
		         .setContent("You clicked the map at " + e.latlng.toString())
		         .openOn(mymap);
		 }
		 mymap.on('click', onMapClick);
		 	 
	</script>	
</body>
</html>